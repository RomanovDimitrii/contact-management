(function(){"use strict";var e={1713:function(e,t,a){var l=a(3751),n=a(641),o=(a(4114),a(8992),a(4520),a(4445)),u=a(953);const r=(0,o.nY)("contactStore",(()=>{const e=(0,u.KR)(JSON.parse(localStorage.getItem("contacts")||"[]")),t=(0,u.KR)(""),a=(0,n.EW)((()=>e.value.filter((e=>e.name.toLowerCase().includes(t.value.toLowerCase())))||[])),l=async()=>{if(0===e.value.length)try{const t=await fetch("/mockData.json"),a=await t.json();e.value=a,i()}catch(t){console.error("Ошибка при загрузке контактов:",t)}},o=t=>{e.value.push(t),i()},r=t=>{const a=e.value.findIndex((e=>e.id===t.id));-1!==a&&(e.value[a]=t,i())},s=t=>{e.value=e.value.filter((e=>e.id!==t)),i()},c=e=>{t.value=e},i=()=>{localStorage.setItem("contacts",JSON.stringify(e.value))};return{contacts:e,searchQuery:t,filteredContacts:a,fetchContacts:l,addContact:o,editContact:r,deleteContact:s,setSearchQuery:c}}));var s=a(33);const c=e=>{const t={name:"",phone:"",email:""};return e.name||(t.name="Имя обязательно для заполнения."),e.phone?/^\+?[0-9]{7,15}$/.test(e.phone)||(t.phone="Введите корректный номер телефона."):t.phone="Телефон обязателен для заполнения.",e.email?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(e.email)||(t.email="Введите корректный email."):t.email="Email обязателен для заполнения.",t},i=e=>!!(e.name||e.phone||e.email),m=(e,t)=>{switch(e){case"name":if(!t)return"Имя обязательно для заполнения.";break;case"phone":if(!t)return"Телефон обязателен для заполнения.";if(!/^\+?[0-9]{7,15}$/.test(t))return"Введите корректный номер телефона.";break;case"email":if(!t)return"Email обязателен для заполнения.";if(!/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(t))return"Введите корректный email.";break;default:return""}return""},d={class:"mb-4"},v={class:"mb-2"},p={class:"text-sm text-red-500 h-5 mt-1"},b={class:"mb-2"},f={class:"text-sm text-red-500 h-5 mt-1"},h={class:"mb-2"},k={class:"text-sm text-red-500 h-5 mt-1"},x={type:"submit",class:"mt-2 p-2 bg-blue-500 text-white rounded w-full"};var L=(0,n.pM)({__name:"ContactForm",setup(e){const t=(0,u.KR)({id:"",name:"",phone:"",email:""}),a=(0,u.KR)(!1),o=(0,u.KR)({name:"",phone:"",email:""}),L=r(),y=()=>{if(o.value=c(t.value),!i(o.value)){if(a.value)L.editContact(t.value);else{const e={...t.value,id:Date.now().toString()};L.addContact(e)}w()}},w=()=>{t.value={id:"",name:"",phone:"",email:""},a.value=!1,o.value={name:"",phone:"",email:""}};return(0,n.wB)((()=>t.value.name),(e=>{o.value.name=m("name",e)})),(0,n.wB)((()=>t.value.phone),(e=>{o.value.phone=m("phone",e)})),(0,n.wB)((()=>t.value.email),(e=>{o.value.email=m("email",e)})),(e,u)=>((0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("form",{onSubmit:(0,l.D$)(y,["prevent"]),novalidate:""},[(0,n.Lk)("div",v,[u[3]||(u[3]=(0,n.Lk)("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Имя",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":u[0]||(u[0]=e=>t.value.name=e),type:"text",id:"name",class:"p-2 border border-gray-300 rounded w-full",placeholder:"Введите имя"},null,512),[[l.Jo,t.value.name]]),(0,n.Lk)("div",p,[(0,n.Lk)("span",null,(0,s.v_)(o.value.name),1)])]),(0,n.Lk)("div",b,[u[4]||(u[4]=(0,n.Lk)("label",{for:"phone",class:"block text-sm font-medium text-gray-700"},"Телефон",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":u[1]||(u[1]=e=>t.value.phone=e),type:"text",id:"phone",class:"p-2 border border-gray-300 rounded w-full",placeholder:"Введите телефон"},null,512),[[l.Jo,t.value.phone]]),(0,n.Lk)("div",f,[(0,n.Lk)("span",null,(0,s.v_)(o.value.phone),1)])]),(0,n.Lk)("div",h,[u[5]||(u[5]=(0,n.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":u[2]||(u[2]=e=>t.value.email=e),type:"text",id:"email",class:"p-2 border border-gray-300 rounded w-full",placeholder:"Введите email"},null,512),[[l.Jo,t.value.email]]),(0,n.Lk)("div",k,[(0,n.Lk)("span",null,(0,s.v_)(o.value.email),1)])]),(0,n.Lk)("button",x,(0,s.v_)(a.value?"Обновить контакт":"Добавить контакт"),1)],32)]))}}),y=a(6262);const w=(0,y.A)(L,[["__scopeId","data-v-b985a8a0"]]);var g=w;a(2577),a(7550);const C={class:"p-2 border-b"},_={class:"flex justify-between items-center mb-2"},E={class:"font-semibold"},O={class:"text-sm text-gray-600"},S={key:0},j={class:"mb-2"},K={class:"text-sm text-red-500 h-5 mt-1"},R={class:"mb-2"},X={class:"text-sm text-red-500 h-5 mt-1"},B={class:"mb-2"},J={class:"text-sm text-red-500 h-5 mt-1"};var F=(0,n.pM)({__name:"ContactItem",props:{contact:{}},setup(e){const t=e,a=r(),o=(0,n.EW)((()=>a.contacts.find((e=>e.id===t.contact.id))||t.contact)),c=(0,u.KR)(!1),i=(0,u.KR)({...o.value}),d=(0,u.KR)({name:"",phone:"",email:""});(0,n.wB)((()=>i.value.name),(e=>{d.value.name=m("name",e)})),(0,n.wB)((()=>i.value.phone),(e=>{d.value.phone=m("phone",e)})),(0,n.wB)((()=>i.value.email),(e=>{d.value.email=m("email",e)}));const v=()=>{Object.values(d.value).some((e=>e))||(a.editContact(i.value),c.value=!1)},p=()=>{i.value={...o.value},d.value={name:"",phone:"",email:""},c.value=!1},b=()=>{a.deleteContact(o.value.id)};return(e,t)=>((0,n.uX)(),(0,n.CE)("div",C,[(0,n.Lk)("div",_,[(0,n.Lk)("div",null,[(0,n.Lk)("p",E,(0,s.v_)(o.value.name),1),(0,n.Lk)("p",O,(0,s.v_)(o.value.phone)+" - "+(0,s.v_)(o.value.email),1)]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>c.value=!0),class:"text-blue-500 mr-2"},"Edit"),(0,n.Lk)("button",{onClick:b,class:"text-red-500"},"Delete")])]),(0,n.bF)(l.eB,{name:"fade-slide"},{default:(0,n.k6)((()=>[c.value?((0,n.uX)(),(0,n.CE)("div",S,[(0,n.Lk)("form",{onSubmit:(0,l.D$)(v,["prevent"]),novalidate:""},[(0,n.Lk)("div",j,[t[4]||(t[4]=(0,n.Lk)("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Name",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.value.name=e),type:"text",id:"name",class:"p-2 border border-gray-300 rounded w-full",placeholder:"Name"},null,512),[[l.Jo,i.value.name]]),(0,n.Lk)("div",K,[(0,n.Lk)("span",null,(0,s.v_)(d.value.name),1)])]),(0,n.Lk)("div",R,[t[5]||(t[5]=(0,n.Lk)("label",{for:"phone",class:"block text-sm font-medium text-gray-700"},"Phone",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.value.phone=e),type:"text",id:"phone",class:"p-2 border border-gray-300 rounded w-full",placeholder:"Phone"},null,512),[[l.Jo,i.value.phone]]),(0,n.Lk)("div",X,[(0,n.Lk)("span",null,(0,s.v_)(d.value.phone),1)])]),(0,n.Lk)("div",B,[t[6]||(t[6]=(0,n.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.value.email=e),type:"email",id:"email",class:"p-2 border border-gray-300 rounded w-full",placeholder:"Email"},null,512),[[l.Jo,i.value.email]]),(0,n.Lk)("div",J,[(0,n.Lk)("span",null,(0,s.v_)(d.value.email),1)])]),(0,n.Lk)("div",{class:"flex justify-end"},[(0,n.Lk)("button",{type:"button",onClick:p,class:"text-gray-500 mr-2"},"Cancel"),t[7]||(t[7]=(0,n.Lk)("button",{type:"submit",class:"text-blue-500"},"Save",-1))])],32)])):(0,n.Q3)("",!0)])),_:1})]))}});const V=(0,y.A)(F,[["__scopeId","data-v-9ba62dc6"]]);var I=V;const U={class:"mb-4"};var $=(0,n.pM)({__name:"SearchBar",setup(e){const t=(0,u.KR)(""),a=r();return(0,n.wB)(t,(e=>{a.setSearchQuery(e)})),(e,a)=>((0,n.uX)(),(0,n.CE)("div",U,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),type:"text",class:"p-2 border border-gray-300 rounded w-full",placeholder:"Поиск по имени контакта"},null,512),[[l.Jo,t.value]])]))}});const D=$;var M=D;const N={key:0},P={key:1,class:"text-center text-gray-500"};var Q=(0,n.pM)({__name:"ContactList",setup(e){const t=r(),a=(0,n.EW)((()=>t.filteredContacts));return(e,t)=>((0,n.uX)(),(0,n.CE)("div",null,[t[0]||(t[0]=(0,n.Lk)("h1",{class:"text-2xl font-bold mt-14 mb-4 text-center"},"Контакты",-1)),(0,n.bF)((0,u.R1)(M)),a.value.length>0?((0,n.uX)(),(0,n.CE)("div",N,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.value,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id},[(0,n.bF)(I,{contact:e},null,8,["contact"])])))),128))])):((0,n.uX)(),(0,n.CE)("div",P,"No contacts found."))]))}});const A=Q;var W=A;const T={class:"max-w-4xl mx-auto p-4"};var Y=(0,n.pM)({__name:"App",setup(e){const t=r();return(0,n.sV)((()=>{t.fetchContacts()})),(e,t)=>((0,n.uX)(),(0,n.CE)("main",T,[t[0]||(t[0]=(0,n.Lk)("h2",{class:"text-2xl font-bold mb-4 text-center"},"Добавить контакт",-1)),(0,n.bF)(g),(0,n.bF)(W)]))}});const q=Y;var z=q;const G=(0,l.Ef)(z);G.use((0,o.Ey)()),G.mount("#app")}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var o=t[l]={exports:{}};return e[l].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,o){if(!l){var u=1/0;for(i=0;i<e.length;i++){l=e[i][0],n=e[i][1],o=e[i][2];for(var r=!0,s=0;s<l.length;s++)(!1&o||u>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[s])}))?l.splice(s--,1):(r=!1,o<u&&(u=o));if(r){e.splice(i--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[l,n,o]}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,u=l[0],r=l[1],s=l[2],c=0;if(u.some((function(t){return 0!==e[t]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(s)var i=s(a)}for(t&&t(l);c<u.length;c++)o=u[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(i)},l=self["webpackChunkcontact_management"]=self["webpackChunkcontact_management"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(1713)}));l=a.O(l)})();
//# sourceMappingURL=app.2c72f39d.js.map